<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<link rel="stylesheet" type="text/css" href="oxdoc.css">
<link rel="stylesheet" type="text/css" media="print" href="print.css">
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<title>Ahn1995.ox</title>
</head>
<body>
<div class="header">
[ <img class="icon" src="icons/project_s.png">&nbsp;<a href="default.html">Project home</a>
 | <img class="icon" src="icons/index_s.png">&nbsp;<a href="index.html">Index</a>
 | <img class="icon" src="icons/hierarchy_s.png">&nbsp;<a href="hierarchy.html">Class hierarchy</a> ]</div>
<h1><span class="icon"><img class="icon" src="icons/file.png">&nbsp;</span><span class="text">Ahn1995.ox</span></h1>

The goal of this project is to replicate some results from the 1995 ReStud paper "Measuring the Value of Children by Sex and Age Using a Dynamic Programming Model" by Namkee Ahn. This paper's main contribution is that it was the first attempt to estimate the "economic value" (in terms of money) of children to their parents using a dynamic discrete choice framework. The basic idea is that the parent faces a known income profile of their life and  in each period of their life cycle they receive utility from their income and also from the number of children they have (which is age and gender dependent). Therefore during each fertile period, the parents decide whether to have a child or not by maximising their expected total life cycle utility. The age and gender dependent values of the children are then estimated from fertility data of Korean couples in the 1980s.<br>
<P/>
For our project, we use the estimated values of the children from the paper to calcuate the choice probability of giving birth for college educated Korean women using the niqlow DDP solver. More specifically, we aim to replicate the results from panels c and d from table 5b on p. 374 of the paper. Panel c shows the choice probabilities if the boys and girls have the same values. Panel d shows the choice probabilities if the average values of boys and girls are used in the estimation.<br> 
<P/>
The main reason for choosing these panels is that at the current time niqlow does not have the features required to keep track of both the ages and gender of the children. However, niqlow can keep track of the actions taken using the ChoiceAtTbar class and this together with a separate state variable for the number of boys allows us to keep track of the total number of children, the total number of boys and girls and the age of the children (but not the age of each gender) in each period. In the Utility() method, setting the local variable bg=1 will give estimated probabilities for panel c and setting bg=0.5 will give the estimated probabilities for panel d. The actual and estimated probabilities are shown in the following table. <br>
<P/>
 <table border="1">
  <tr>
    <th>Period</th><th>Panel c (Actual)</th> <th> Panel c (niqlow)</th> <th>Panel d (Actual)</th><th>Panel d (niqlow)</th>
  </tr>
  <tr>
    <td>0</td><td>1.00</td><td>0.54</td><td>1.00</td><td>0.58</td>
  </tr>
  <tr>
    <td>1</td><td>0.03</td><td>0.41</td><td>0.95</td><td>0.53</td>
  </tr>
<tr>
    <td>2</td><td>0.41</td><td>0.32</td><td>0.53</td><td>0.47</td>
    </tr>
<tr>
    <td>3</td><td>0.13</td><td>0.23</td><td>0.15</td><td>0.40</td>
  </tr>
<tr>
    <td>4</td><td>0.05</td><td>0.13</td><td>0.05</td><td>0.27</td>
  </tr>
<tr>
    <td>5</td><td>0.04</td><td>0.11</td><td>0.01</td><td>0.20</td>
  </tr>
  <tr>
    <td>6</td><td>0.00</td><td>0.00</td><td>0.00</td><td>0.00</td>
  </tr>
</table> 
<br>
As shown in the table above, we cannot replicate the results from Ahn at this moment. We have printed out the decision variables, state variables, income and utility from each period and each reachable state and they seems to have been calculated, so we are uncertain what is causing the discrepancies. One thing that is not clear from the paper is that the utility is the log of the sum of income and number of children which could be negative, so there must be some adjustment made for these states and we are unsure what that is (we set all values below 0 to 1 before taking log).

<dl><dt class="author">Author:</dt><dd class="author">Ken Chow, David Rose <br></dd>
</dl>
<a name="global"></a>
<h2><span class="icon"><img class="icon" src="icons/global.png">&nbsp;</span><span class="text">Global enumerations</span></h2>

<table class="method_table">
<tr><td colspan="3" class="header" valign="top">Enumerations</td></tr><tr class="even">
<td class="declaration"><img class="icon" src="icons/enum_s.png">&nbsp;<a href="Ahn1995.ox.html#Anonymous enum 1">Anonymous enum 1</a></td>
<td class="modifiers"></td>
<td class="description">T is the total number of living periods,  </td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/enum_s.png">&nbsp;<a href="Ahn1995.ox.html#Anonymous enum 2">Anonymous enum 2</a></td>
<td class="modifiers"></td>
<td class="description">tau is the total number of fertile periods.</td>
</tr>
</table>

<a name="Ahn"></a>
<h2><span class="icon"><img class="icon" src="icons/class.png">&nbsp;</span><span class="text">Ahn</span></h2>


<table class="method_table">
<tr><td colspan="3" class="header" valign="top">Public fields</td></tr><tr class="even">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___BoyRatio">BoyRatio</a></td>
<td class="modifiers">static const</td>
<td class="description">Probability that a birth is a boy (from page 337 1st paragraph).</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___d">d</a></td>
<td class="modifiers">static</td>
<td class="description">Action variable of whether to have a child or not.</td>
</tr>
<tr class="even">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___delt">delt</a></td>
<td class="modifiers">static const</td>
<td class="description">Discount factor.&nbsp; Equation 12 on page 368.</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___dvals">dvals</a></td>
<td class="modifiers">static</td>
<td class="description">Array of state variables recording the decision made in the fertile periods.</td>
</tr>
<tr class="even">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___EMax">EMax</a></td>
<td class="modifiers">static</td>
<td class="description">Solver class.</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___i">i</a></td>
<td class="modifiers">static</td>
<td class="description">Dummy variable for loop.</td>
</tr>
<tr class="even">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___nb">nb</a></td>
<td class="modifiers">static</td>
<td class="description">State variable for total number of boys in the period.</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___nc">nc</a></td>
<td class="modifiers">static</td>
<td class="description">Total number children in the period.</td>
</tr>
<tr class="even">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___rho">rho</a></td>
<td class="modifiers">static const</td>
<td class="description">Smoothing parameter.&nbsp; Set to 1 for no smoothing.</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___ValBoy">ValBoy</a></td>
<td class="modifiers">static const</td>
<td class="description">Value of boys for different age brackets.&nbsp; Table 3 from page 371.</td>
</tr>
<tr class="even">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___ValGirl">ValGirl</a></td>
<td class="modifiers">static const</td>
<td class="description">Value of girls for different age brackets.&nbsp; Table 3 from page 371.</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/field_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___Y">Y</a></td>
<td class="modifiers">static const</td>
<td class="description">Income parameter for each period.&nbsp; Table 2 from page  370.</td>
</tr>
<tr><td colspan="3" class="header" valign="top">Public methods</td></tr><tr class="odd">
<td class="declaration"><img class="icon" src="icons/method_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___FeasibleActions">FeasibleActions</a></td>
<td class="modifiers"></td>
<td class="description">d=1 (decision to have a child) is only allowed for the first 7 periods.</td>
</tr>
<tr class="even">
<td class="declaration"><img class="icon" src="icons/method_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___ItsABoy">ItsABoy</a></td>
<td class="modifiers">static</td>
<td class="description">Transition function for the state variable nb (number of boys).&nbsp; The transition depends on whether d=1 and the probability that a birth is a boy.</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/method_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___Reachable">Reachable</a></td>
<td class="modifiers">static</td>
<td class="description">Function to trim unreachable states.&nbsp; The number of boys cannot be higher than the number children.</td>
</tr>
<tr class="even">
<td class="declaration"><img class="icon" src="icons/method_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___Run">Run</a></td>
<td class="modifiers">static</td>
<td class="description">Setup and solve the model.</td>
</tr>
<tr class="odd">
<td class="declaration"><img class="icon" src="icons/method_s.png">&nbsp;<a href="Ahn1995.ox.html#Ahn___Utility">Utility</a></td>
<td class="modifiers"></td>
<td class="description">This method calculates the current period utility.&nbsp; The main difficulty is the age-dependent value level of the children.</td>
</tr>
</table>

<h2><span class="icon"><img class="icon" src="icons/global.png">&nbsp;</span><span class="text">Global </span></h2>

<table class="enum_table">
<tr><td colspan="3" class="header" valign="top">Enumerations</td></tr><tr class="even">
<td class="declaration"><a name="Anonymous enum 1"></a>Anonymous enum 1</td>
<td class="description">T is the total number of living periods,
</td>
<td class="elements">T</td>
</tr>
<tr class="odd">
<td class="declaration"><a name="Anonymous enum 2"></a>Anonymous enum 2</td>
<td class="description">tau is the total number of fertile periods.
</td>
<td class="elements">tau</td>
</tr>
</table>

<h2><span class="icon"><img class="icon" src="icons/class.png">&nbsp;</span><span class="text">Ahn</span></h2>

<a name="Ahn___BoyRatio"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">BoyRatio</span></h3>

<span class="declaration">static const  decl BoyRatio [public]</span>
<dl><dd>
Probability that a birth is a boy (from page 337 1st paragraph).

</dd></dl>

<hr>
<a name="Ahn___d"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">d</span></h3>

<span class="declaration">static  decl d [public]</span>
<dl><dd>
Action variable of whether to have a child or not.

</dd></dl>

<hr>
<a name="Ahn___delt"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">delt</span></h3>

<span class="declaration">static const  decl delt [public]</span>
<dl><dd>
Discount factor.&nbsp; Equation 12 on page 368.

</dd></dl>

<hr>
<a name="Ahn___dvals"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">dvals</span></h3>

<span class="declaration">static  decl dvals [public]</span>
<dl><dd>
Array of state variables recording the decision made in the fertile periods.

</dd></dl>

<hr>
<a name="Ahn___EMax"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">EMax</span></h3>

<span class="declaration">static  decl EMax [public]</span>
<dl><dd>
Solver class.

</dd></dl>

<hr>
<a name="Ahn___FeasibleActions"></a>
<h3><span class="icon"><img class="icon" src="icons/method.png">&nbsp;</span><span class="text">FeasibleActions</span></h3>

<span class="declaration">Ahn :: FeasibleActions ( Alpha )</span>
<dl><dd>
d=1 (decision to have a child) is only allowed for the first 7 periods.

</dd></dl>

<hr>
<a name="Ahn___i"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">i</span></h3>

<span class="declaration">static  decl i [public]</span>
<dl><dd>
Dummy variable for loop.

</dd></dl>

<hr>
<a name="Ahn___ItsABoy"></a>
<h3><span class="icon"><img class="icon" src="icons/method.png">&nbsp;</span><span class="text">ItsABoy</span></h3>

<span class="declaration">static Ahn :: ItsABoy ( A )</span>
<dl><dd>
Transition function for the state variable nb (number of boys).&nbsp; The transition depends on whether d=1 and the probability that a birth is a boy.

</dd></dl>

<hr>
<a name="Ahn___nb"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">nb</span></h3>

<span class="declaration">static  decl nb [public]</span>
<dl><dd>
State variable for total number of boys in the period.

</dd></dl>

<hr>
<a name="Ahn___nc"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">nc</span></h3>

<span class="declaration">static  decl nc [public]</span>
<dl><dd>
Total number children in the period.

</dd></dl>

<hr>
<a name="Ahn___Reachable"></a>
<h3><span class="icon"><img class="icon" src="icons/method.png">&nbsp;</span><span class="text">Reachable</span></h3>

<span class="declaration">static Ahn :: Reachable ( )</span>
<dl><dd>
Function to trim unreachable states.&nbsp; The number of boys cannot be higher than the number children.

</dd></dl>

<hr>
<a name="Ahn___rho"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">rho</span></h3>

<span class="declaration">static const  decl rho [public]</span>
<dl><dd>
Smoothing parameter.&nbsp; Set to 1 for no smoothing.

</dd></dl>

<hr>
<a name="Ahn___Run"></a>
<h3><span class="icon"><img class="icon" src="icons/method.png">&nbsp;</span><span class="text">Run</span></h3>

<span class="declaration">static Ahn :: Run ( )</span>
<dl><dd>
Setup and solve the model.

</dd></dl>

<hr>
<a name="Ahn___Utility"></a>
<h3><span class="icon"><img class="icon" src="icons/method.png">&nbsp;</span><span class="text">Utility</span></h3>

<span class="declaration">Ahn :: Utility ( )</span>
<dl><dd>
This method calculates the current period utility.&nbsp; The main difficulty is the age-dependent value level of the children.

</dd></dl>

<hr>
<a name="Ahn___ValBoy"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">ValBoy</span></h3>

<span class="declaration">static const  decl ValBoy [public]</span>
<dl><dd>
Value of boys for different age brackets.&nbsp; Table 3 from page 371.

</dd></dl>

<hr>
<a name="Ahn___ValGirl"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">ValGirl</span></h3>

<span class="declaration">static const  decl ValGirl [public]</span>
<dl><dd>
Value of girls for different age brackets.&nbsp; Table 3 from page 371.

</dd></dl>

<hr>
<a name="Ahn___Y"></a>
<h3><span class="icon"><img class="icon" src="icons/field.png">&nbsp;</span><span class="text">Y</span></h3>

<span class="declaration">static const  decl Y [public]</span>
<dl><dd>
Income parameter for each period.&nbsp; Table 2 from page  370.

</dd></dl>
<div class="footer">
Generated by <a href="http://oxdoc.sourceforge.net">oxdoc 1.0alpha</a> &copy Copyright 2005-2012 by Y. Zwols<br>
Math typesetting by <a href="http://www.mathjax.org/">Mathjax</a>
</div>
